---
title: 快速排序优化-4个方面
tags: 新建,模板,小书匠
grammar_cjkRuby: true
---

0.快速排序简单介绍：
* 在一般编程语言自带的包中都能够找到这种排序算法的源码，作为一种通用性比较强的排序算法，常常使用在各种场合。
* 基本思想：首先，选取一个基点，通过将其进行两端一次比对，使其位于最终的固定位置；此时序列恰好被分为左右两个部分。然后通过递归方式，对左右部分进行类似的操作，这样就能够达到最终的目的，思想类似于二分查找。
* 时间复杂度：**nlogN**,logN为深度，特别情况是当深度等于n时，时间复杂度为n^2
* 空间复杂度：**logN**，最差时为N，空间复杂度主要是递归栈使用的控件，即树的深度。
* 由于关键字的比较和交换跳跃进行，并不能保证关键词之间的顺序不翻转，所以是**不稳定的**


----------


1.优化基点的选取
* 在基本的算法中，基点的选取是默认序列第一个点，但是考虑一种极端情况，当第一个点已经是最大值或者最小值，那么之后的比较交换基本上不会有大的变化。所以这里我们可以改进一下，通过一下两种方式：
	* I.随机选取下标为low~high期间中的一个，但是这行方式还是存在可能选取最小值或者最大值的情况。
	* II.比较三个点low、mid、high；取中间值，这样就能保证不取到最小值或者最大值。

2.优化不必要的交换
* 在基本的算法中，我们每次都是将基点与比较值进行交换来改变位置，其实，这里，只需要改变比较值的位置，并不需要改变基点位置(基点的位置在最终就能确定)；所以这里将交换改为只交换比较值的位置，每次都将少进行一次赋值操作。

3.优化小数组排序方案
快速排序可能在数据量比较大时效果很大，但当数据量很小时，其实没必要使用快速排序，因为快速排序使用了递归，当数据量少时，递归占用的时间将更多。所以，当数据量少到一定程度，就可以直接使用插入排序。

4.优化递归操作
* 递归和迭代的区别：递归是函数的层层调用，迭代只是一种逻辑的循环操作(如for循环)
* 递归中函数的调用占用一定的时间，而且栈也占用一定的内存
* 而快速排序中，通过轻微的修改，就可以将这种递归部分修改为迭代
* 在下面的代码中，当进行一次排序时，左半部分依然使用递归；右半部分就使用while循环迭代，通过将prior+1复制给新的low，while循环中，Partition1就相当于将对右半部分进行迭代排序。
